<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Preview TinyMCE variable plugin</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <script src="//cdn.tinymce.com/4/tinymce.min.js"></script>
    <script src="src/plugins/variable/plugin.js"></script>

    <script>
        tinymce.init({
            selector: 'textarea',
            height: 500,
            theme: 'modern',
            content_css: ['src/plugins/variable/plugin.css', '//www.tinymce.com/css/codepen.min.css', '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',],
            plugins: [
                'advlist autolink lists image charmap print preview hr pagebreak',
                'searchreplace wordcount visualblocks visualchars code fullscreen',
                'nonbreaking save table contextmenu directionality',
                'paste textcolor colorpicker textpattern imagetools variable code'
            ],
            toolbar1: 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | image',
            toolbar2: 'print preview | forecolor backcolor | variable',
            image_advtab: true,
            variable_mapper: {
                username: 'Username',
                phone: 'Phone',
                community_name: 'Community name',
                email: 'Email address',
                sender: 'Sender name',
                account_id: 'Account ID'
            },
            setup: function (ed) {
                window.tester = ed;
                ed.addButton('variable', {
                    title: 'Variable',
                    text: 'Insert variable',
                    onclick: function () {
                        ed.plugins.variable.addVariable('account_id');
                    }
                });
                ed.on('variableClick', function (e) {
                    console.log('click', e);
                });
            },
        });
    </script>
<textarea>Easy (and free!) You should check out our premium features.</textarea>
</body>

</html>
